a(href="/results")
  i.icon-reply  Back to results

h2(ng-show="newResult", translate="") Add result
h2(ng-hide="newResult") Edit result item {{result.id}}

form
  h3 Meta
  label ID
  input(type='text', ng-model='result.id')
  label Class
  input(type='text', ng-model='result.class')
  label StartNo.
  input(type='number', ng-model='result.startNo')
  label Driver
    | &nbsp;
    small {{ result.driverName }}
  input(type='text', ng-model='result.driver')
  label Team
  input(type='text', ng-model='result.team')
  label Status
  select(ng-model='result.status')
    option(value="iW") in Wertung
    option(value="DQ") disqualified
    option(value="DNF") did not finish
    option(value="DNS") did not start

  - if (config.resultsTrainingRunsCount > 0)
    // Iterate over trainings.
    h3 Training runs
    - i = 0
    while (i < config.resultsTrainingRunsCount)
      div.clearfix
        label Training #{ i + 1 }
        div.input-prepend.span2
          span.add-on Time
          input.input-small(type='text', ng-model='result.trainingRuns[#{i}].time')
        // iterate over number of penalties
        - p = 0
        while (p < config.resultsPenaltyCount)
          div.input-prepend.span2
            span.add-on #{ config.resultsPenaltyData[p].name }
            input.input-mini(type='number', ng-model='result.trainingRuns[#{i}].penalties[#{p}]')
          - p++
      - i++

  - if (config.resultsOfficialRunsCount > 0)
    // Iterate over trainings.
    h3 Offical runs
    - i = 0
    while (i < config.resultsOfficialRunsCount)
      div.clearfix
        label Official run #{ i + 1 }
        div.input-prepend.span2
          span.add-on Time
          input.input-small(type='text', ng-model='result.officialRuns[#{i}].time')
        // iterate over number of penalties
        - p = 0
        while (p < config.resultsPenaltyCount)
          div.input-prepend.span2
            span.add-on #{ config.resultsPenaltyData[p].name }
            input.input-mini(type='number', ng-model='result.officialRuns[#{i}].penalties[#{p}]')
          - p++
      - i++

  h3 Comment
  textarea(ng-model='result.comment')

  hr
  div.actions
    input.btn.btn-large.btn-primary(type="submit", value="Save result", ng-click="saveResult()")
    | &nbsp;Revision {{result.v}}
